<div class="card">
  @if (quote(); as q) {
    <p class="quote-text">“{{ q.text }}”</p>

    <div class="quote-author">— {{ q.author }}</div>

    <div class="flex items-center justify-between mt-4">
      <div class="relative group">
        <div class="rating-stars">
          @for (star of [1, 2, 3, 4, 5]; track star) {
            <button
              type="button"
              (click)="setRating(star)"
              class="rating-star"
              [class.text-yellow-500]="q.rating && q.rating >= star"
              [class.text-gray-300]="!q.rating || q.rating < star"
            >
              ★
            </button>
          }
        </div>

        <div class="rating-tooltip">Click to rate • click again to clear</div>
      </div>

      <button type="button" (click)="share()" class="share-button">
        <span class="share-content">
          <span>Share on</span>
          <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path
              d="M18.244 2H21.5l-7.12 8.14L22.5 22h-6.29l-4.92-6.41L5.7 22H2.44l7.62-8.71L1.5 2h6.45l4.45 5.8L18.244 2z"
            />
          </svg>
        </span>
      </button>
    </div>
  } @else {
    <p class="empty-state">No quote available.</p>
  }
</div>
